// EC2 Connection with Public IP - Use this after assigning a public IP
// Update the target IP once you get your public IP address

mode := "interpret";
setting := "configuration";
super_user := true;
on_error := "rollback";

// 🎯 UPDATE THIS after you assign a public IP to your EC2 instance
// Check AWS Console → EC2 → Instances → i-0758d679383783e48 → Public IPv4 address
target := "ec2-user@YOUR_NEW_PUBLIC_IP_HERE";

fn main() {
    print("🚀 EC2 Connection with Public IP");
    print("================================");
    print("Instance ID: i-0758d679383783e48");
    print("Target: " + target);
    print("");
    
    print("📋 Steps completed:");
    print("   ✓ EC2 instance running");
    print("   ✓ Public IP assigned");
    print("   ✓ Security group allows SSH");
    print("   ✓ SSH key (Swan.pem) configured");
    print("");
    
    // Test the connection
    connection_test();
    
    // Basic system operations
    basic_operations();
    
    print("✅ EC2 connection successful!");
    print("🚀 Ready for full deployment!");
}

fn connection_test() {
    print("🧪 Connection Test");
    print("------------------");
    
    // Get system information
    print("📊 Getting EC2 system information...");
    sysinfo();
    
    print("✅ Connection test passed!");
    print("");
}

fn basic_operations() {
    print("🔧 Basic Operations Test");
    print("------------------------");
    
    // Test package management
    print("📦 Testing package operations...");
    package("update", "");
    
    // Test file operations
    print("📁 Testing file operations...");
    create("/tmp/scl_success", "connection_test.txt", "644");
    
    // Test service status
    print("⚙️ Testing service management...");
    service("status", "sshd");
    
    print("✅ All basic operations successful!");
    print("");
    print("🎉 Your SCL language works perfectly with EC2!");
}